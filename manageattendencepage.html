<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Attendance</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
            background-color: #2c5aa0;
            color: white;
            position: relative;
            border-bottom: 1px solid #ccc;
        }

        .head-left, .head-right {
            display: flex;
            align-items: center;
            gap: 15px;
            position: relative;
        }

        .menu-icon {
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0.5rem;
        }

        .menu-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 0.375rem;
            box-shadow: 0 0.125rem 0.25rem rgba(0,0,0,0.075);
            min-width: 280px;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
        }

        .head-left:hover .menu-dropdown {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .menu-dropdown div {
            border-bottom: 1px solid #f1f3f4;
        }

        .menu-dropdown div:last-child {
            border-bottom: none;
        }

        .menu-dropdown div a {
            display: block;
            padding: 0.75rem 1rem;
            text-decoration: none;
            color: #333;
            transition: background-color 0.15s ease-in-out;
        }

        .menu-dropdown div a:hover {
            background-color: #f8f9fa;
            color: #2c5aa0;
        }

        .menu-dropdown div a i {
            margin-right: 0.5rem;
            width: 16px;
        }

        #manage-attendance {
            background-color: #e83a3a;
        }

        #manage-attendance a {
            color: white !important;
        }

        #manage-attendance a:hover {
            background-color: #dc2626 !important;
            color: white !important;
        }

        img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }

        .profile-section {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            position: relative;
        }

        .profile-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 0.375rem;
            min-width: 150px;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
        }

        .profile-section:hover .profile-dropdown {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .profile-dropdown a {
            display: block;
            padding: 0.75rem 1rem;
            text-decoration: none;
            color: #333;
            transition: background-color 0.15s ease-in-out;
        }

        .profile-dropdown a:hover {
            background-color: #f8f9fa;
            color: #dc2626;
        }

        main {
            padding: 2rem;
            max-width: 1000px;
            margin: 0 auto;
        }

        .attendance-container {
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            padding: 2rem;
        }

        .attendance-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #2c5aa0;
        }

        .attendance-controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .attendance-controls select {
            padding: 0.5rem;
            border: 2px solid #e1e5e9;
            border-radius: 0.5rem;
            font-size: 1rem;
        }

        .start-attendance-btn {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .start-attendance-btn:hover {
            background: linear-gradient(135deg, #218838, #17a2b8);
            transform: translateY(-2px);
        }

        .students-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }

        .students-table th,
        .students-table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid #dee2e6;
        }

        .students-table th {
            background-color: #2c5aa0;
            color: white;
            font-weight: 600;
        }

        .students-table tr:hover {
            background-color: #f8f9fa;
        }

        .attendance-checkbox {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .present {
            color: #28a745;
            font-weight: bold;
        }

        .absent {
            color: #dc3545;
            font-weight: bold;
        }

        .save-attendance-btn {
            background: linear-gradient(135deg, #2c5aa0, #87ceeb);
            color: white;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 1rem;
            transition: all 0.3s ease;
        }

        .save-attendance-btn:hover {
            background: linear-gradient(135deg, #1e3d6f, #5f9ea0);
            transform: translateY(-2px);
        }

        .attendance-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 2rem;
        }

        .stat-card {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 10px;
            text-align: center;
            border-left: 4px solid #2c5aa0;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #2c5aa0;
        }

        .stat-label {
            color: #666;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <header>
        <div class="head-left">
            <i class="fa-solid fa-list menu-icon"></i>
            <div class="menu-dropdown">
                <div>
                    <a href="facultydashboard.html"><i class="fa-solid fa-chart-line"></i> Faculty Dashboard</a>
                </div>
                <div>
                    <a href="uploadmateriales.html"><i class="fa-solid fa-upload"></i> Upload Study Materials</a>
                </div>
                <div id="manage-attendance">
                    <a href="manageattendencepage.html"><i class="fa-solid fa-calendar-check"></i> Manage Attendance</a>
                </div>
                <div>
                    <a href="#" onclick="alert('Create Assessment feature coming soon!')"><i class="fa-solid fa-clipboard-list"></i> Create Assessment</a>
                </div>
                <div>
                    <a href="#" onclick="alert('View Students feature coming soon!')"><i class="fa-solid fa-users"></i> View Students</a>
                </div>
                <div>
                    <a href="#" onclick="alert('Group Link Message feature coming soon!')"><i class="fa-solid fa-link"></i> Group Link Message</a>
                </div>
            </div>
        </div>
        
        <div class="head-right">
            <div class="profile-section">
                <img src="./photo.jpeg" alt="faculty pic">
                <p>R.RAHUL</p>
                <i class="fa fa-chevron-down"></i>
                
                <div class="profile-dropdown">
                    <a href="faculty-login.html"><i class="fa-solid fa-sign-out-alt"></i> Logout</a>
                </div>
            </div>
        </div>
    </header>

    <main>
        <div class="attendance-container">
            <div class="attendance-header">
                <h2><i class="fas fa-calendar-check"></i> Manage Attendance</h2>
                <div class="attendance-controls">
                    <select id="course-select">
                        <option value="python">Python Programming</option>
                        <option value="java">Java Programming</option>
                        <option value="cpp">C++ Programming</option>
                        <option value="javascript">JavaScript</option>
                        <option value="php">PHP Development</option>
                    </select>
                    <button class="start-attendance-btn" onclick="startAttendance()">
                        <i class="fas fa-play"></i> Start Attendance
                    </button>
                </div>
            </div>

            <div class="attendance-stats">
                <div class="stat-card">
                    <div class="stat-number" id="total-students">4</div>
                    <div class="stat-label">Total Students</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number present" id="present-count">0</div>
                    <div class="stat-label">Present</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number absent" id="absent-count">0</div>
                    <div class="stat-label">Absent</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="attendance-percentage">0%</div>
                    <div class="stat-label">Attendance %</div>
                </div>
            </div>

            <table class="students-table">
                <thead>
                    <tr>
                        <th>Student ID</th>
                        <th>Student Name</th>
                        <th>Present</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>K.NareshSagar</td>
                        <td><input type="checkbox" class="attendance-checkbox" onchange="updateAttendance()"></td>
                        <td class="status">-</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>Md.RAfath</td>
                        <td><input type="checkbox" class="attendance-checkbox" onchange="updateAttendance()"></td>
                        <td class="status">-</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>M.Anirudh</td>
                        <td><input type="checkbox" class="attendance-checkbox" onchange="updateAttendance()"></td>
                        <td class="status">-</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>Krishna</td>
                        <td><input type="checkbox" class="attendance-checkbox" onchange="updateAttendance()"></td>
                        <td class="status">-</td>
                    </tr>
                    
                </tbody>
            </table>

            <button class="save-attendance-btn" onclick="saveAttendance()">
                <i class="fas fa-save"></i> Save Attendance
            </button>
        </div>
    </main>

    <script>
        let attendanceStarted = false;

        function startAttendance() {
            if (!attendanceStarted) {
                attendanceStarted = true;
                alert('Attendance session started!');
                document.querySelector('.start-attendance-btn').innerHTML = '<i class="fas fa-stop"></i> Stop Attendance';
                document.querySelector('.start-attendance-btn').style.background = 'linear-gradient(135deg, #dc3545, #c82333)';
            } else {
                attendanceStarted = false;
                alert('Attendance session ended!');
                document.querySelector('.start-attendance-btn').innerHTML = '<i class="fas fa-play"></i> Start Attendance';
                document.querySelector('.start-attendance-btn').style.background = 'linear-gradient(135deg, #28a745, #20c997)';
            }
        }

        function updateAttendance() {
            const checkboxes = document.querySelectorAll('.attendance-checkbox');
            const statuses = document.querySelectorAll('.status');
            
            let presentCount = 0;
            let totalStudents = checkboxes.length;
            
            checkboxes.forEach((checkbox, index) => {
                if (checkbox.checked) {
                    presentCount++;
                    statuses[index].textContent = 'Present';
                    statuses[index].className = 'status present';
                } else {
                    statuses[index].textContent = 'Absent';
                    statuses[index].className = 'status absent';
                }
            });
            
            const absentCount = totalStudents - presentCount;
            const percentage = totalStudents > 0 ? Math.round((presentCount / totalStudents) * 100) : 0;
            
            document.getElementById('present-count').textContent = presentCount;
            document.getElementById('absent-count').textContent = absentCount;
            document.getElementById('attendance-percentage').textContent = percentage + '%';
        }

        function saveAttendance() {
            const course = document.getElementById('course-select').value;
            const presentCount = document.getElementById('present-count').textContent;
            
            if (attendanceStarted) {
                alert(`Attendance saved successfully!\nCourse: ${course}\nStudents Present: ${presentCount}`);
            } else {
                alert('Please start attendance session first!');
            }
        }
    </script>
</body>
</html>